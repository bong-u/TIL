<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Fastapi on bong-u/til</title><link>https://bong-u.github.io/til/tags/fastapi/</link><description>Recent content in Fastapi on bong-u/til</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Fri, 02 Aug 2024 00:00:00 +0900</lastBuildDate><atom:link href="https://bong-u.github.io/til/tags/fastapi/index.xml" rel="self" type="application/rss+xml"/><item><title>Issue - fastapi에서 websocket 404 문제</title><link>https://bong-u.github.io/til/python/issue_websocket/</link><pubDate>Fri, 02 Aug 2024 00:00:00 +0900</pubDate><guid>https://bong-u.github.io/til/python/issue_websocket/</guid><description>배경 테커 부트캠프 최종발표 전날이다. gpt 프롬프트 부분 수정을 main 브랜치에 반영하고, EC2 서버에 배포했다. 문제 배포한 서버에서 websocket 연결이 404 에러를 반환한다. (내일이 최종 발표인데,,,) 다른 http 요청은 정상적으로 처리되지만 웹소켓만 처리되지 않는 것을 확인했다. nginx의 log 1{IP주소} - - [02/Aug/2024:10:59:04 +0000] &amp;#34;GET /ws/chatrooms/294?user_id=296 HTTP/1.1&amp;#34; 404 22 &amp;#34;-&amp;#34; &amp;#34;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.5 Safari/605.1.15&amp;#34; 2{IP주소} - - [02/Aug/2024:10:59:05 +0000] &amp;#34;GET /ws/chatrooms/294?</description></item><item><title>Fastapi - 통합테스트 In-Memory DB에서 테이블이 없다는 문제</title><link>https://bong-u.github.io/til/python/fastapi_db_test/</link><pubDate>Mon, 22 Jul 2024 00:00:00 +0900</pubDate><guid>https://bong-u.github.io/til/python/fastapi_db_test/</guid><description>상황 테커 부트캠프에서 팀프로젝트를 진행 중이다. 단위테스트 코드는 작성이 완료되었고, 통합테스트 코드를 작성 중이다. sqlite in-memory db를 사용해서 테스트 중인데, 테이블이 없다는 에러가 발생했다. 테스트 전에 테이블을 생성하는 코드가 실행됨에도 불구하고, 에러가 발생한다. 인메모리가 아닌 파일로 저장하는 방법을 사용하면 에러가 발생하지 않는 것을 보고 문제의 원인을 파악할 수 있었다. 코드 1from database import Base, engine 2from fastapi.testclient import TestClient 3 4from main import app 5from models import * 6 7# 테이블을 생성하는 코드이다 8Base.</description></item><item><title>[모각코24하계] 03 : 결과</title><link>https://bong-u.github.io/til/mogako/mogako24-2-03/</link><pubDate>Tue, 16 Jul 2024 00:00:00 +0900</pubDate><guid>https://bong-u.github.io/til/mogako/mogako24-2-03/</guid><description>Fastapi, RabbitMQ, Celery 연동 배경 테커 부트캠프에서 팀프로젝트를 진행 중이다. 웹소켓을 통해 클라이언트로부터 받은 데이터를 gpt를 통해 처리하고, 결과를 다시 클라이언트로 보내는 서비스를 구현하고 있다. 여러 사용자의 요청을 원활하게 처리하기 위해 분산 비동기 시스템을 구축하려고 한다. 목표 Fastapi, RabbitMQ, Celery를 각자 docker 컨테이너로 구동시키고 연동한다. docker-compose.yml 1version: &amp;#39;3&amp;#39; 2 3services: 4 rabbitmq: 5 image: rabbitmq:3 6 ports: 7 - &amp;#34;5672:5672&amp;#34; # RabbitMQ의 AMQP 포트 8 - &amp;#34;15672:15672&amp;#34; # RabbitMQ 관리 인터페이스 포트 9 volumes: 10 - rabbitmq_data:/var/lib/rabbitmq 11 expose: 12 - &amp;#34;5672&amp;#34; 13 - &amp;#34;15672&amp;#34; 14 15 celery_worker: 16 build: 17 context: .</description></item><item><title>Fastapi, RabbitMQ, Celery 연동</title><link>https://bong-u.github.io/til/python/fastapi_rabbitmq_celery/</link><pubDate>Thu, 11 Jul 2024 00:00:00 +0900</pubDate><guid>https://bong-u.github.io/til/python/fastapi_rabbitmq_celery/</guid><description>배경 테커 부트캠프에서 팀프로젝트를 진행 중이다. 웹소켓을 통해 클라이언트로부터 받은 데이터를 gpt를 통해 처리하고, 결과를 다시 클라이언트로 보내는 서비스를 구현하고 있다. 여러 사용자의 요청을 원활하게 처리하기 위해 분산 비동기 시스템을 구축하려고 한다. 목표 Fastapi, RabbitMQ, Celery를 각자 docker 컨테이너로 구동시키고 연동한다. docker-compose.yml 1version: &amp;#39;3&amp;#39; 2 3services: 4 rabbitmq: 5 image: rabbitmq:3 6 ports: 7 - &amp;#34;5672:5672&amp;#34; # RabbitMQ의 AMQP 포트 8 - &amp;#34;15672:15672&amp;#34; # RabbitMQ 관리 인터페이스 포트 9 volumes: 10 - rabbitmq_data:/var/lib/rabbitmq 11 expose: 12 - &amp;#34;5672&amp;#34; 13 - &amp;#34;15672&amp;#34; 14 15 celery_worker: 16 build: 17 context: .</description></item></channel></rss>